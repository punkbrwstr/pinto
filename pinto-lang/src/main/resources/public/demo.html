<!DOCTYPE html>
<html lang="en">
    <head>
        <title>pinto</title>
        <link rel="stylesheet" href="/stylesheets/style.css">
        <link href="https://fonts.googleapis.com/css?family=Geo|Montserrat|Source+Sans+Pro" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    	<script type="text/javascript" src="javascripts/jquery.console.js"></script>
    </head>
    <body>
    	<header>
        	<h2 id="mainTitle">Pinto Programming Language</h2>
        </header>
        <div id="pintoBody">
        	<h3>What is Pinto?</h3>
        	<p>Pinto is a domain-specific programming language for manipulating time series. Technically it is a <a href="https://en.wikipedia.org/wiki/Concatenative_programming_language" rel="nofollow">concatenative</a> language that uses <a href="https://en.wikipedia.org/wiki/Reverse_Polish_notation" rel="nofollow">postfix</a> notation. That means that Pinto programs are comprised of a sequence of functions, written left-to-right, where each function's inputs are the outputs of the previous function (to its left).  These inputs and outputs are in the form of a table with columns representing specific time series definitions and a varying number of rows that correspond to a requested date range.  The rows may contain different types of data with values that vary over time or are constant.  Each column also has a text header to identify it. The table is set up as a <a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)" rel="nofollow">stack</a>, with  new columns added to the right and functions operating on the rightmost column first.</p>
        </div>
        <div id="tryPinto">
        	<h3>Try Pinto!</h3>
        	<br/>
        </div>
        <p>Here are some sample Pinto expressions to try:</p>
        <p class="examples">(Type Pinto expressions into above terminal window. Tab will complete names.)</p>
        <ul>
            <li>Define a function to read in a file with stock prices
                <p><pre><code>:get_stocks {source: "https://pinto.tech/files/stocks.csv"} read def</code></pre></p></li>
            <li>Select two columns using label indexing and compute their ratio
                <p><pre><code>get_stocks [TRAN,UTIL] only / {start: "2015-10-01", end:"2015-10-30", freq: "W-FRI"} eval</code></pre></p></li>
       		<li>Compute 20 and 200-day moving averages
                <p><pre><code>get_stocks [DOW] only {size:20} [0,-1&amp;] rolling {size:200} [0,-1&amp;] rolling [:2] average {start:"2016-01-01", end: "2016-01-05", freq:"B"} eval</code></pre></p></li>
       		<li>Define a table of returns of your favorite stocks
                <p><pre><code>:my_stocks_returns get_stocks [CMG,LOCO,TACO] only rolling changepct def</code></pre></p></li>
       		<li>Define a function to compute compound returns
                <p><pre><code>:compound_return 1 + log expanding sum exp -1 + def</code></pre></p></li>
       		<li>Apply the function to your stocks
                <p><pre><code>my_stocks_returns cross average compound_return {start:"2015-09-30", end:"2015-10-31"} eval</code></pre></p></li>
        </ul>
        <h3>Get Pinto</h3>
        <p>The latest version of Pinto, as well as <a href="https://github.com/punkbrwstr/pinto/blob/master/pinto_reference.md">documentation</a> are available on <a href="https://github.com/punkbrwstr/pinto">GitHub</a>.</p>
        	
		<script type="text/javascript">
        	var console = $('<div class="console1">');
			$('#tryPinto').append(console);
         	var controller  = console.console({
          		promptLabel: 'pinto> ',
          		welcomeMessage: 'Pinto (build: ${buildNumber})\nFor pinto help type \"help\".',
          		commandValidate:function(line){
             		if (line == "") return false;
             			else return true;
           		},
          		commandHandle:function(line, report){
            		if (line) {
            		   	$.ajax({
							type: "GET",
							url: "/pinto/console",
							data: { p: line },
							dataType: "json"
						}).done(function(response) {
							if("error" in response) {
								report(response.error, "jquery-console-message-error");
							} else if(response.length == 0) {
								report("", "jquery-console-message-value");
							} else {
								for(var i = 0; i < response.length; i++) {
									report(response[i].output, "jquery-console-message-value");
								}
							} 
						});
            		} 
          		},
          		cols: 40,
          		completeIssuer:function(prefix){
            		$.ajax({
						type: "GET",
						url: "/pinto/complete",
						data: { p : prefix },
						dataType: "json",
					}).done(function(response) {
						controller.showCompletion("",response.candidates);
            		});
         		}
         	});
         </script>
         <style type="text/css" media="screen">
      		div.console1 { 
      			word-wrap: break-word; 
      			font-size: 14px;
      			font-family: 'Inconsolata', monospace;
      			color:#fff;
      			white-space: pre
      		}
      		div.console1 div.jquery-console-focus span.jquery-console-cursor { background:#fefefe; color:#333; font-weight:bold }
      		div.console1 div.jquery-console-inner { width:700px; height:300px; background:#333; padding:0.5em; overflow:auto }
      		div.console1 div.jquery-console-message-error { color:red }
      		div.console1 span.jquery-console-prompt-label { font-weight:bold }
      	</style>
        
    	<footer>
    		<p>Pinto was created by <a href="mailto:magnumpi@gmail.com">Peter Graf</a><p>
       		<p><h4 id="buildNumber">(build: ${buildNumber})</h4></p>
    	</footer>
    </body>
</html>
